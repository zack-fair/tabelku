<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Preview</title>  
  <script src="libs/jquery/jquery.js"></script>    
  <link rel="stylesheet" href="libs/bootstrap/bootstrap.css" />
  <script src="libs/bootstrap/bootstrap.js"></script>  
  <script src="dist/jquery.Tabelku.js"></script>
  <script>      
    $(document).ready(function() {            
      $.fn.tabelku.defaults.checkStateChanged = function(e) {
        var opacity = e.target.checked? 0.5: 1;
        $(e.target).closest('tr').fadeTo('fast', opacity);
      };

      $.fn.tabelku.defaults.sebelumHapus = function(baris) {        
        baris.fadeOut('fast', function() {
          $(baris).remove();
        })
        return false;                      
      };

      $('#tabel1').tabelku({
        kolom: [
          {nama: 'kodeBarang', text: 'Kode Barang'},
          {nama: 'namaBarang', text: 'Nama Barang'},
          {nama: 'qty', text: 'Qty'}
        ],
        data: [
          {kodeBarang: 'BRG-1', namaBarang: 'Nama Barang 1', qty: 10},
          {kodeBarang: 'BRG-2', namaBarang: 'Nama Barang 2', qty: 20},
          {kodeBarang: 'BRG-3', namaBarang: 'Nama Barang 3', qty: 30}
        ]
      });

      $('#tabel2').tabelku({
        kolom: [
          {nama: 'kodeBarang', text: 'Kode Barang'},
          {nama: 'namaBarang', text: 'Nama Barang'},
          {nama: 'qty', text: 'Qty'}
        ],
        data: [
          {kodeBarang: 'BRG-5', namaBarang: 'Nama Barang 5', qty: 10},
          {kodeBarang: 'BRG-6', namaBarang: 'Nama Barang 6', qty: 20}          
        ]
      });

      //
      // Memanggil melalui object JavaScript biasa:
      //
      // document.getElementById('btnHapus').addEventListener('click', function(event) {
      //   var tabel1 = document.getElementById('tabel1').tabel;
      //   tabel1.hapusBarisTerpilih();
      // });
      //

      //
      // Memanggil melalui jQuery:
      //
      // $("#btnHapus").click(function() {
      //   $("#tabel1")[0].tabel.hapusBarisTerpilih();
      // });
      //

      //
      // Memanggil melalui jQuery yang mendukung chaining:
      //
      // $("#btnHapus").click(function() {
      //   $("table").tabelku("hapusBarisTerpilih").tabelku("tambahBaris", {kodeBarang: 'TEST', namaBarang: 'TEST', qty: 99});
      // });      
      //

      //
      // Memanggil melalui jQuery selector:
      //    
      $("#btnHapus").click(function() { $(':tabelku').tabelku('hapusBarisTerpilih') });      

    });    
  </script>    
</head>
<body>  
  <div class='container'>
    <table id='tabel1'></table>
    <table id='tabel2'></table>
    <a class="btn btn-primary" role="button" id="btnHapus">Hapus</a>
  </div>
</body>
</html>
